% Gemini theme
% https://github.com/anishathalye/gemini

\documentclass[final]{beamer}

% ====================
% Packages
% ====================

\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[size=custom,width=121.92,height=91.44,scale=1.5]{beamerposter}
\usetheme{gemini}
\usecolortheme{isu}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{minted}
\usepackage{qrcode}

\usemintedstyle{lovelace}
\setminted{autogobble=true}

% ====================
% Lengths
% ====================

% If you have N columns, choose \sepwidth and \colwidth such that
% (N+1)*\sepwidth + N*\colwidth = \paperwidth
\newlength{\sepwidth}
\newlength{\colwidth}
\setlength{\sepwidth}{0.025\paperwidth}
\setlength{\colwidth}{0.3\paperwidth}

\newcommand{\separatorcolumn}{\begin{column}{\sepwidth}\end{column}}

% ====================
% Title
% ====================

\title{Cross Section Analysis in MetPy}

\author{Jonathan E. Thielen \inst{1} \and Ryan M. May \inst{2} \and John R. Leeman \inst{2}}

\institute[shortinst]{\inst{1} Dept. of Geological and Atmsopheric Sciences, Iowa State University \samelineand \inst{2} Unidata/UCAR}

% ====================
% Body
% ====================

\begin{document}

\begin{frame}[t, fragile]
\begin{columns}[t]
\separatorcolumn

\begin{column}{\colwidth}

  \begin{block}{Background}

    \begin{itemize}
      \item Cross sections are a common meteorological plot, often used in analysis of:
        \begin{itemize}
          \item Convective systems
          \item Isentropic ascent
          \item Tropopause folds
          \item Conditional Symmetrix Instability (CSI)
        \end{itemize}
      \item The General Meteorology Package (GEMPAK) has the ability to obtain and plot such vertical cross sections through three-dimensional data, however, this functionality has been lacking until recently in MetPy. 
        \begin{figure}
          \centering
          \includegraphics[height=4.5in]{figures/gempak_cross.png}
        \end{figure}
      \item Cross section interpolation (utilizing xarray) is now included in MetPy based on work undertaken during the 2018 Unidata Summer Internship.
    \end{itemize}

  \end{block}

  \begin{alertblock}{xarray and MetPy}

    xarray is a powerful Python package that provides N-dimensional labeled arrays and datasets following the Common Data Model with many useful utility methods for indexing, interpolating, and reducing data. MetPy is transitioning to using xarray as its primary data model and includes of number of helper methods via an accessor interface, such a those below:

    \begin{minted}{python}
      import xarray as xr
      from metpy.units import units

      # Parse for CRS and coordinate types
      data = xr.open_dataset('data.nc').metpy.parse_cf()

      # Get a Cartopy CRS
      data['temperature'].metpy.cartopy_crs

      # Unit and coordinate helpers
      data['temperature'].metpy.sel(
          vertical=500 * units.hPa)
      data['u_wind'].metpy.convert_units('knots')
    \end{minted}

  \end{alertblock}

\end{column}

\separatorcolumn

\begin{column}{\colwidth}

  \begin{exampleblock}

    \vspace{-2em}

    \begin{figure}
      \centering
      \includegraphics[width=\colwidth]{figures/basic_example_narr.pdf}
      \caption{Basic cross section example using NARR data, with demonstration of wind components (included in MetPy documentation).}
    \end{figure}
    \begin{figure}
      \centering
      \includegraphics[width=\colwidth]{figures/basic_example_narr.pdf}
      \caption{Cross section through a bow echo as simulated in a 1-km WRF-ARW run, with demonstration of vertical coordinate interpolation.}
    \end{figure}
    \begin{figure}
      \centering
      \includegraphics[width=\colwidth]{figures/basic_example_narr.pdf}
      \caption{Cross section of Moist Potential Vorticity (MPV) for assessing CSI. (Cross-sectional absolute momentum calculation also available.)}
    \end{figure}

  \end{exampleblock}

\end{column}

\separatorcolumn

\begin{column}{\colwidth}

  \begin{block}{Implementation}

    Details about implementation. Et cetera,  ad litora torquent per conubia nostra, per
    inceptos himenaeos. Phasellus libero enim, gravida sed erat sit amet,
    scelerisque congue diam. Fusce dapibus dui ut augue pulvinar iaculis.

  \end{block}

  \begin{block}{Future Work}

    Details about future work. Et cetera,  ad litora torquent per conubia nostra, per
    inceptos himenaeos. Phasellus libero enim, gravida sed erat sit amet,
    scelerisque congue diam. Fusce dapibus dui ut augue pulvinar iaculis.

  \end{block}

  \begin{exampleblock}

    Interested in finding out more or exploring some demo notebooks? Check out

    \vspace{1em} 



    \begin{figure}
      \centering
      \large{\url{https://github.com/jthielen/}\\ \url{metpy_cross_section_ams_2019}}

      \vspace{1em}

      \qrcode[height=3in]{https://github.com/jthielen/metpy_cross_section_ams_2019}
    \end{figure}

  \end{exampleblock}

\end{column}

\separatorcolumn
\end{columns}
\end{frame}

\end{document}
